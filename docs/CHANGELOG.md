# 变更记录

## 近期更新

### 2025-11-02
- **执行器重构 - 统一结果目录结构**
- **执行器优化 - JavaScript时序问题修复**
- **执行器升级 - 指定测试用例功能**
- **LLM 编译质量优化（第二轮）**
- **执行器升级 - 批量执行功能**
- **LLM 编译质量优化（第一轮）**
- **编译器升级 - 数据驱动与占位符替换**
- **新增 Excel 数据规整 MVP**

## 历史更新

### 2025-10-26 优化
- 编译器操作类型感知匹配：新增基于操作类型的智能别名匹配机制，点击操作优先匹配按钮类元素，输入操作优先匹配输入框类元素，大幅提升选择器准确性
- 智能修正商品名称文本点击：实现自动检测并修正"商品名称文本点击→购买按钮点击"的错误，解决电商测试中常见的操作混淆问题
- 图片验证逻辑优化：修正图片验证错误，图片显示验证不再检查文本内容，符合"图片正确显示（HTTP 200 OK）"的实际需求
- LLM提示词增强：增加操作类型匹配规则、商品操作特别规则和图片验证规则，提升LLM生成ActionPlan的准确性
- 购买按钮选择器优化：避免在购买按钮选择器上添加无效的:has-text修饰符，提升交互成功率
- **LLM驱动测试报告生成**：新增智能测试报告生成功能，基于执行器输入输出自动生成人类可读的专业测试报告，包含详细的验证点清单、执行摘要和性能分析

### 2025-10-26 新增
- 标定 CLI 支持 `--page-name` 和 `--test-case`，可固定页面名称并向 LLM 注入测试用例上下文，提升标定准确度
- 执行器新增 `count_equals/count_at_least` 断言支持，可直接验证元素数量
- 编译器对 `count` 类断言不再附加 `:has-text` 过滤，避免生成依赖具体文案的数量校验 selector
- 执行器在执行 `count` 断言前会等待目标元素渲染完成，提升异步页面下的稳定性
- **标定工具DOM优化**：扩展DOM过滤范围，新增 iframe、embed、object、base、head 等标签过滤，进一步减少LLM处理噪音，提升标定效率和准确性

### 2025-10-19 新增
- 实现06-完全自然语言测试用例驱动的研发测试MVP
  - 支持MD格式测试用例解析
  - 集成Playwright MCP自动化测试
  - Claude Code智能断言和报告生成
  - 完整的测试流程自动化

### 2025-10-18 新增
- 放弃标定工具的WebGUI
- 实现了标定工具的Chrome插件版本的MVP

### 2025-10-12 新增
- 标定 - 编译 - 执行 三个MVP的联调完成
