# 安装和使用指南

## 安装步骤

### 1. 准备Chrome浏览器
确保使用Chrome版本≥114（支持Side Panel API）

### 2. 加载扩展程序
1. 打开Chrome浏览器
2. 在地址栏输入 `chrome://extensions` 并回车
3. 右上角打开**开发者模式**开关
4. 点击**"加载已解压的扩展程序"**按钮
5. 在文件选择器中，选择 `calibration-chrome-extension` 文件夹
6. 确认加载，扩展图标将出现在浏览器工具栏中

### 3. 固定扩展图标
1. 点击浏览器工具栏的拼图图标（扩展程序管理）
2. 找到"标定工具"扩展
3. 点击图钉图标将其固定到工具栏

## 使用方法

### 启动工具
1. 打开需要打标的网页
2. 点击工具栏中的"标定工具"图标
3. 侧边面板将在浏览器右侧打开

### 开启标注模式
**方法一：侧边面板**
- 点击"开启标注"按钮
- 按钮变为高亮状态表示标注模式已开启

**方法二：快捷键**
- 在页面中按 `Alt+P`
- 快速切换标注模式开关

### 页面打标
1. 开启标注模式后，鼠标在页面移动时会高亮元素
2. 直接点击想要标记的元素
3. 页面右下角显示"✓ 已记录"提示
4. 该元素将自动添加到右侧标注列表

### DOM树浏览
1. 左侧面板显示页面DOM结构
2. **过滤搜索**：在输入框中输入标签名、ID或类名
3. **单击节点**：在页面中高亮对应元素
4. **双击节点**：将元素添加到标注列表

### 标注管理
1. **查看标注**：右侧面板显示所有已标记元素
2. **编辑描述**：在文本框中输入元素描述或备注
3. **高亮元素**：点击"高亮"按钮在页面中显示对应元素
4. **删除标注**：点击"删除"按钮移除指定标注

### 数据导出
1. 点击"导出 JSON"按钮
2. 浏览器将自动下载 `site-profile.json` 文件
3. 该文件包含当前站点的所有标注数据
4. 文件格式与现有执行器兼容

### 清空数据
- 点击"清空当前页"按钮
- 确认后删除当前页面的所有标注数据

## 功能演示

### 基本操作流程
```
1. 打开目标网页
2. 启动标定工具
3. 开启标注模式 (Alt+P)
4. 点击页面元素进行标记
5. 在侧边面板中编辑描述
6. 导出Site Profile JSON
```

### 高级功能
- **框架切换**：顶部下拉框选择不同iframe
- **DOM过滤**：快速定位特定元素类型
- **批量管理**：统一查看和管理所有标注

## 常见问题

### Q: 侧边面板无法打开？
A: 确保Chrome版本≥114，并检查扩展是否正确加载

### Q: 页面内无高亮效果？
A: 检查是否开启了标注模式，或页面是否为受限页面（如chrome://）

### Q: 标注数据丢失？
A: 刷新页面后数据应保持，如丢失请检查扩展权限设置

### Q: 导出文件格式不正确？
A: 确保使用最新版本的扩展程序

## 技术规格

### 支持的页面类型
- 普通HTML页面
- SPA单页应用
- 多框架页面（iframe）
- 大部分现代网站

### 不支持的页面类型
- `chrome://` 系统页面
- Chrome Web Store
- 系统PDF查看器
- CSP严格限制的页面

### 性能限制
- DOM树深度限制：3层
- 每层子节点限制：60个
- 标注数据本地存储

### 数据安全
- 仅本地存储，不上传网络
- 不采集敏感信息
- 用户主动控制数据导出

## 键盘快捷键

| 快捷键 | 功能 |
|--------|------|
| Alt+P | 开启/关闭标注模式 |
| - | 暂无其他快捷键 |

## 开发者信息

### 调试方法
1. 右键点击扩展图标 → 检查弹出内容
2. 在侧边面板右键 → 检查
3. 查看Console面板的错误信息

### 文件说明
- `manifest.json`: 扩展配置文件
- `content-script.js`: 页面注入脚本
- `background.js`: 后台服务
- `sidepanel.html/js`: 侧边面板界面
- `overlay.css`: 高亮样式

### 版本信息
- 当前版本：v0.1.0
- 开发框架：Chrome Extension Manifest V3
- 兼容性：Chrome ≥ 114